<html>
<head>
  <title>LeapJS Playback Recorder</title>
  <link href="stylesheets/bootstrap.css" rel="stylesheet">
  <link href="stylesheets/angular.rangeSlider.css" rel="stylesheet">
  <!--<script src="javascripts/bootstrap.js"></script>-->
  <script src="javascripts/jquery-2.1.0.min.js"></script>
  <script src="javascripts/lz-string-1.3.3.js"></script>
  <script src="javascripts/FileSaver.js"></script>
  <script src="javascripts/angular.js"></script>
  <script src="javascripts/angular.rangeSlider.js"></script>
  <script src="javascripts/recorder.js"></script>
  <script src="javascripts/three.min.js"></script>
  <script src="javascripts/leap-skeleton-deviceEvents.js"></script>
  <script src="javascripts/leap-plugins-0.1.3-master.js"></script>
  <script src="javascripts/leap.rigged-hand.js"></script>
  <script src="../../leap-spy.js"></script>
  <style>
    body{
      font-family: Helvetica;
    }
    canvas {
      position: fixed;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
    }
    #controls{
      position: fixed;
      bottom: 0;
      left: 0;
      width: 100%;
      text-align: center;
      z-index: 20;
    }
  </style>
  <script type="text/javascript">



  </script>
</head>
<body>


<div id="controls" ng-app="Recorder" data-ng-controller="Controls">
  <div id="range" pin-handle="{{pinHandle}}" range-slider min="0" max="maxFrames()" model-min="leftHandlePosition" model-max="rightHandlePosition" ng-show="mode == 'crop' || mode == 'playback'"></div>
  <!--<a href="#">Save As</a>-->
  <div class="btn-group btn-group-lg" data-toggle="buttons">
    <button type="button" class="btn btn-default" ng-click="record()" ng-class="{active: mode=='record'}">
      Record
    </button>
    <button type="button" class="btn btn-default" ng-click="crop()" ng-class="{active: mode=='crop'}" ng-disabled="!player().loaded()">
      Crop
    </button>
    <button type="button" class="btn btn-default" ng-click="playback()" ng-class="{active: mode=='playback'}" ng-disabled="!player().loaded()">
      <span ng-show="!pauseOnPlaybackButtonClick()">&#9654;</span><span ng-show="pauseOnPlaybackButtonClick()">â€–</span>Playback
    </button>
  </div>
  <div class="btn-group btn-group-lg" data-toggle="buttons">
    <button type="button" class="btn btn-default" ng-click="save()">Download</button>
  </div>
</div>


<script>
  (window.controller = new Leap.Controller)
    .use('playback', {recording: 'brian.json'})
    .use('handHold')
    .use('handEntry')
    .use('riggedHand')
    .connect();

//    window.controller.plugins.playback.record();

  window.controller.on('playback.recordingFinished', function(){
    cropControl.trigger('click');
  });
</script>

</body>
</html>